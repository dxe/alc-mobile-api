{{template "header.html" .}}

<section class="section">
  <div class="container">
    <h1 class="title">{{if eq .PageData.ID 0}}New{{else}}Edit{{end}} Announcement</h1>

    <form action="/admin/announcement/save" method="post">

      <div class="field" hidden>
        <label class="label">ID</label>
        <div class="control">
          <input class="input" type="number" name="ID" value="{{.PageData.ID}}" readonly>
        </div>
      </div>

      <div class="field">
        <label class="label">Conference</label>
        <div class="select">
          <select name="ConferenceID">
            {{range .Conferences}}
              <option value="{{.ID}}" {{if eq .ID $.DefaultConferenceID}}selected{{end}}>{{.Name}}</option>
            {{end}}
          </select>
        </div>
      </div>

      <div class="field">
        <label class="label">Title</label>
        <div class="control">
          <input class="input" type="text" name="Title" value="{{.PageData.Title}}" required>
        </div>
      </div>

      <div class="field">
        <label class="label">Message</label>
        <div class="control">
          <textarea class="textarea" name="Message" rows="4" required>{{.PageData.Message}}</textarea>
        </div>
      </div>

      <!--        TODO: show a dropdown select for icon choices-->
      <div class="field">
        <label class="label">Icon</label>
        <div class="control">
          <input class="input" type="text" name="Icon" value="{{.PageData.Icon}}" required>
        </div>
      </div>

      <div class="field">
        <label class="label">Send Time</label>
        <div class="control">
          <input class="input" type="date" name="SendTime" value="{{.PageData.SendTime}}" required>
        </div>
      </div>

      <div class="field is-grouped">
        <div class="control">
          <button type="submit" class="button is-link">Submit</button>
        </div>
        <div class="control">
          <a href="/admin/announcements" class="button is-link is-light">Cancel</a>
        </div>
      </div>

    </form>

  </div>
</section>

{{template "footer.html" .}}