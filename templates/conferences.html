{{template "header.html" .}}

<section class="section">
  <div class="container">
    <h1 class="title">Conferences</h1>
    <a class="button is-link block" href="/admin/conference/details">+ Add New Conference</a>
    <div class="b-table">
      <div class="table-wrapper has-mobile-cards">
        <table class="table is-fullwidth is-striped is-hoverable is-fullwidth">
          <thead>
          <tr>
            <th>Name</th>
            <th>Start Date (US Pacific)</th>
            <th>End Date (US Pacific)</th>
            <th>Start Date (Browser Timezone)</th>
            <th>End Date (Browser Timezone)</th>
            <th></th>
          </tr>
          </thead>
          <tbody>

          {{range .PageData}}
          <tr>
            <td data-label="Name">{{.Name}}</td>
            <td data-label="Start Date (PT)">{{.StartDate}}</td>
            <td data-label="End Date (PT)">{{.EndDate}}</td>
            <td data-label="Start Date (Browser timezone)" class="utcDate">{{.StartDateUtc}}</td>
            <td data-label="Start Date (Browser timezone)" class="utcDate">{{.EndDateUtc}}</td>
            <td class="is-actions-cell">
              <div class="buttons is-right">
                <a class="button is-small is-primary" href="/admin/conference/details?id={{.ID}}">
                    Edit
                </a>
                <a class="button is-small is-danger jb-modal" href="/admin/conference/delete?id={{.ID}}">
                    Delete
                </a>
              </div>
            </td>
          </tr>
          {{end}}

          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>
<script>
  console.log("test");
  const utcDates = document.getElementsByClassName("utcDate");
  for (const utcDate of utcDates) {
    const date = new Date(utcDate.textContent);
    utcDate.textContent = date.toString();
  }

</script>

{{template "footer.html" .}}